# 公告领域设计文档

## 1. 引言

### 1.1 背景介绍

公告领域是Red Jasmine电商框架中的一个重要组成部分，主要用于管理系统内各种类型的公告信息。该领域支持多角色使用，如平台管理员、商家等，并通过biz字段区分内部不同业务线的公告。

### 1.2 问题域

公告领域主要解决以下核心问题：
1. 如何统一管理系统内各种类型的公告信息
2. 如何支持多角色、多业务线的公告发布需求
3. 如何管理公告的生命周期（草稿、发布、撤销等状态）
4. 如何控制公告的可见范围和发布渠道

### 1.3 业务价值

公告领域为业务带来的价值包括：
1. 提供统一的公告管理平台，降低维护成本
2. 支持多角色使用，提高系统复用性
3. 灵活的公告范围控制，确保信息精准传达
4. 完善的审批机制，保障公告内容合规性

### 1.4 项目目标

- 业务目标：建立统一、灵活、可扩展的公告管理系统
- 技术目标：遵循DDD设计原则，实现高内聚、低耦合的领域设计

### 1.5 适用范围

本文档适用于公告领域的产品、开发和测试人员，用于指导该领域的设计、开发和使用。

## 2. 领域建模

### 2.1 核心能力

公告领域主要包括以下核心能力：

#### 2.1.1 公告管理
- 公告创建、编辑、删除
- 公告状态管理（草稿、发布、撤销）
- 公告内容管理（标题、封面、内容等）

#### 2.1.2 分类管理
- 公告分类创建、编辑、删除
- 分类层级管理

#### 2.1.3 发布控制
- 公告范围控制
- 发布渠道管理
- 定时发布功能

### 2.2 领域参与角色

#### 内部角色
1. 平台管理员 - 负责平台级别公告管理
2. 商家 - 负责商家级别公告管理
3. 审批员 - 负责公告审批流程
4. 系统管理员 - 负责系统配置和维护

#### 外部角色
1. 用户 - 查看相关公告信息
2. 商家员工 - 查看商家公告
3. 平台商户 - 查看平台公告

### 2.3 连接领域

#### 上游领域
1. 用户领域 - 提供用户信息用于范围控制
2. 商家领域 - 提供商家信息用于商家公告管理
3. 权限领域 - 提供权限控制支持

#### 下游领域
1. 消息领域 - 公告发布后的消息推送
2. 审计领域 - 公告操作审计日志
3. 文件领域 - 公告附件存储

## 3. 统一语言表

| 英文名称 | 中文名称 | 说明 | 示例 |
|---------|---------|------|------|
| Announcement | 公告 | 系统发布的公告信息 | 平台维护通知 |
| Category | 分类 | 公告分类 | 系统公告、商家公告 |
| Owner | 所有者 | 公告的所有者 | 平台、商家 |
| Scope | 范围 | 公告可见范围 | 指定用户组 |
| Channel | 渠道 | 公告发布渠道 | 站内信、APP推送 |
| Attachment | 附件 | 公告附件 | PDF文档、图片 |
| ApprovalStatus | 审批状态 | 公告审批状态 | 待审批、已通过、已拒绝 |
| PublishTime | 发布时间 | 公告发布时间 | 2023-01-01 12:00:00 |