<?php

return [
    
    /*
    |--------------------------------------------------------------------------
    | 邀请码生成配置
    |--------------------------------------------------------------------------
    */
    'code_generation' => [
        // 邀请码长度
        'length' => 8,
        
        // 邀请码字符集
        'characters' => 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789',
        
        // 邀请码前缀
        'prefix' => '',
        
        // 邀请码后缀
        'suffix' => '',
        
        // 生成重试次数
        'retry_times' => 10,
    ],

    /*
    |--------------------------------------------------------------------------
    | 邀请链接配置
    |--------------------------------------------------------------------------
    */
    'link' => [
        // 基础URL
        'base_url' => env('APP_URL', 'http://localhost'),
        
        // 邀请链接路径
        'path' => '/invitation',
        
        // 签名密钥
        'signature_key' => env('INVITATION_SIGNATURE_KEY', env('APP_KEY')),
        
        // 链接有效期（秒）
        'link_ttl' => 3600 * 24 * 7, // 7天
        
        // 支持的目标类型
        'target_types' => [
            'register' => '注册页面',
            'product' => '商品页面',
            'activity' => '活动页面',
            'custom' => '自定义页面',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | 默认配置
    |--------------------------------------------------------------------------
    */
    'defaults' => [
        // 默认最大使用次数（0表示无限制）
        'max_usage' => 100,
        
        // 默认有效期（天数，null表示永久有效）
        'expiry_days' => 30,
        
        // 邀请码状态
        'status' => 'active',
    ],

    /*
    |--------------------------------------------------------------------------
    | 缓存配置
    |--------------------------------------------------------------------------
    */
    'cache' => [
        // 缓存前缀
        'prefix' => 'invitation:',
        
        // 邀请码缓存TTL（秒）
        'code_ttl' => 3600,
        
        // 统计缓存TTL（秒）
        'stats_ttl' => 1800,
    ],

    /*
    |--------------------------------------------------------------------------
    | 安全配置
    |--------------------------------------------------------------------------
    */
    'security' => [
        // 使用频率限制（每分钟）
        'rate_limit' => 60,
        
        // IP使用次数限制（每天）
        'ip_daily_limit' => 100,
        
        // 设备使用次数限制（每天）
        'device_daily_limit' => 50,
        
        // 启用签名验证
        'enable_signature' => true,
    ],

    /*
    |--------------------------------------------------------------------------
    | 奖励配置
    |--------------------------------------------------------------------------
    */
    'rewards' => [
        // 启用奖励系统
        'enabled' => false,
        
        // 邀请人奖励
        'inviter_rewards' => [
            'points' => 100,
            'coins' => 10,
        ],
        
        // 被邀请人奖励
        'invitee_rewards' => [
            'points' => 50,
            'coins' => 5,
        ],
        
        // 完成条件奖励
        'completion_rewards' => [
            'register' => [
                'points' => 200,
                'coins' => 20,
            ],
            'first_order' => [
                'points' => 500,
                'coins' => 50,
            ],
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | 统计配置
    |--------------------------------------------------------------------------
    */
    'statistics' => [
        // 启用统计功能
        'enabled' => true,
        
        // 统计维度
        'dimensions' => [
            'daily',
            'weekly', 
            'monthly',
        ],
        
        // 数据保留天数
        'retention_days' => 365,
    ],
]; 